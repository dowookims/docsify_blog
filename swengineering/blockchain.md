###### 2019.06.21

비토 코인은 탈 중앙화된 장부로 이루어져 있다.
* 참여자가 모든 사람의 거래내역을 저장함 : 분산화 => 계층이 안나뉘게 되고, 데이터 무결성을 가지기 위한 전제조건(모든 거래내역 모두를 모든 사용자가 가지고 있다.)
* 참여자가 합의하여 거래를 결정: 분권화

블록체인은 peer2peer 네트워크를 통해 거래를 저장한다
* client/server는 계층을 두고 데이터를 전송한다.
* p2p는 동등 계층간 데이터를 전송하는 기법으로 피어들은 서버와 클라이언트의 역할을 동시에 한다(like torrent)

오버레이와 p2p 네트워크
블록체인은 비구조화 오버레이를 사용하는데  
* 비동기식 네트워크를 사용하며(res => req가 아니라 그냥 res만 보내고 끝)
* 각 인접노드를 알아서 선택하고
* 토폴로지가 규정되지 않음
* 슈퍼 노드가 지역적으로 서버 역할을 수행한다.
* 인접노드에서 차례로 데이터를 확산함
* 유연성 있는 데이터 전달이 가능하다
* 메시지 전달에 보장을 못한다.
* 노드 증가에 따라 메세지 양이 증가하여 확장성에 약하다

블록체인의 불가역성
* 한번 기록 / 승인된 데이터는 수정과 삭제가 불가능하여야 한다 => 모든 노드가 장부를 관리하고 있기 때문에.

블록체인과 디지털 서명
* 서명 : PKI(공인 인증서 같은)

비트 코인의 부인 방지
* 다른 사람이 자신의 돈을 보낼 수 없어야 한다.
* 내가 보냈다는 소식을 추후에 부인 할 수 없어야 한다. => 서명하면 법적 효력이 생기듯.

비트 코인의 지갑  
개인키 => 공개키 => 비트코인 주소  
* one-way function으로 일방향으로 데이터가 흐름으로 개인키를 추론 할 수 없다.
* 16진수로 된 난수로 개인키는 256비트의 무작위 숫자 생성 약 10^77; k
* 공개키 생성: k * G(생성 포인트), 개인키 추론 불가; K
* 비트코인 주소 생성: Base 58(RIPEMD160(SHA2(K)))A

* 공개키 기반 구조(PKI)
* 개인키 / 공개키가 비대칭 키로서 활용된다. 

대칭키는 키가 하나로써 내가 평문을 암호화 할 때, 복호화 할 때 같은 키를 쓴다는 거고  
비대칭 키는 암호화와 복호화가 다르다라는 것. 

기존 데이터에 서명을 넣어 암호화하고, 이를 복호화해서 데이터를 확인 한다.

이렇게 보내는 이유가 데이터 출처를 검증하여 거래 내역을 기록하기 위함이다. 서로 네트워크를 유지해야 하기 때문에 서로 책임을 지고 가는 것. 


